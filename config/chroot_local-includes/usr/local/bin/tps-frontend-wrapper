#!/bin/sh

# We execute the tps-frontend as root to allow it to connect to the
# tps backend via D-Bus. After connecting to D-Bus, we immediately
# drop privileges via setuid. We can not simply use a privileged
# non-root user here instead, because the user must be able issue
# the setuid system call (which could be done by granting the
# CAP_SETUID capability via pam_cap, but it's not simple).
sudo -E /usr/local/lib/tps-frontend "$@"